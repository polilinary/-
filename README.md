# Опросник-предсказатель шизофрении

## Описание проекта
Данный проект представляет собой систему, которая использует медицинские данные для предсказания возможности развития шизофрении. Проект состоит из трех основных частей:

1. Backend — имитирует сбор и передачу медицинских данных в реальном времени. Producer генерирует и отправляет данные из различных медицинских учреждений, а Consumer принимает эти данные и сохраняет их в датасет.
2. ML — выполняет обработку данных и обучение модели логистической регрессии для предсказания заболевания.
3. Frontend — представляет собой веб-приложение, где пользователи могут заполнить анкету, получить предсказание о возможности развития шизофрении и увидеть графики зависимости диагноза от различных факторов.

## Как запустить проект

### Шаг 1: Запуск Backend

Для начала работы с backend частью проекта выполните следующие шаги:

1. Перейдите в папку backend.
2. Откройте терминал в этой папке и выполните следующие команды:
   ```bash
   docker-compose up -d
   ```
   ```bash
   python3 producer.py
   ```
   ```bash
   python3 consumer.py
   ```
   
### Шаг 2: Запуск ML части

После запуска backend части вернитесь в основной репозиторий и запустите ML часть:

1. Перейдите в основной репозиторий.
2. Запустите модель с помощью команды:
   ``` bash
   python3 model.py
   ```
      
   В процессе работы будут скачаны два файла: label_encoder.pkl и schizofrenia_model.pkl, которые необходимы для дальнейшей работы Web приложения.

### Шаг 3: Запуск Frontend

После запуска ML части проекта можно перейти к запуску фронтенд части:

1. Для запуска веб-приложения используйте команду:
     ``` bash
     streamlit run app.py
     ```
   
### Дополнительно

Если вам нужно ознакомиться с предварительной обработкой данных и подбором гиперпараметров модели, вы можете зайти в папку data EDA и открыть ноутбук с необходимыми процессами.

## Структура репозитория
project/  
├── backend/               # Backend часть  
│   └── config.py       # конфиги для запуска
│   ├── producer.py     # Генерация данных  
│   ├── consumer.py     # Прием и сохранение данных
│   └── docker-compose.yml #докеры
│   └── schizophrenia_dataset.csv #датасет
├── data EDA/           # Анализ данных и обработка
│   └── preprocessing_and_model_tuning.ipynb # ноутбук с предварительной обработкой данных и подбором гиперпараметров модели
│   └── schizophrenia_dataset.csv #датасет
├── model.py            # Модель и обучение
├── label_encoder.pkl
├── schizofrenia_model.pkl
├── app.py              # Веб-приложение
└── requirements.txt    # Зависимости проекта

Теперь вы готовы к работе с проектом и запуску всех его частей!
